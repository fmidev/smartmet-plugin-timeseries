################################################################## 
# smartmet-engine-grid (#### TESTING #####)
################################################################## 

# This is a configuration file used by the module
# smartmet-engine-grid. The SmartMet server's configuration
# file for the "grid" engine should point to this file.

# Notice that this file is not generated by "TestConfigCreator".
# The reason for this is that the grid implementation can use
# variables directly in its configuration files. That's because
# it does not use 'libconfig' which does not support variables.   

##################################################################

SMARTMET_ENV_FILE = "%(DIR)/../../smartmet-test-env.cfg"
@include "$(SMARTMET_ENV_FILE)"


# Importing the original grid-engine configuration file (of course we could 
# copy the whole configuration file and edit it, but why bother) :

@include "$(GRID_ENGINE_CONFIG_FILE)" 


# Making some modifications into the original configuration: 

# Making sure that all server are embedded into the grid-engine. The old configuration
# values are replaced with the following values:

smartmet.engine.grid.content-server.remote = false;
smartmet.engine.grid.data-server.remote = false;
smartmet.engine.grid.query-server.remote = false;


# Defining the producer configuration file: 

smartmet.engine.grid.query-server.producerFile = "%(DIR)/producers_test.csv"


# Replacing mapping configuration:

@remove "smartmet.engine.grid.query-server.mappingFiles.*"
smartmet.engine.grid.query-server.mappingFiles.0 = "%(DIR)/mapping_fmi_test.csv"
smartmet.engine.grid.query-server.mappingFiles.1 = "%(DIR)/mapping_newbase_test.csv"


